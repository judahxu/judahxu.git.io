<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>关于传值用法 | 波澜海底心</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="什么是KVC —-&amp;gt;WhatKVC指的就是NSKeyValueCoding非正式协议。 KVC是一种间接地访问对象的属性的机制。这种间接表现在通过字符串来标识属性,而不是通过调用存取方法或直接地访问实例变量的方式。KVC机制不仅支持对象,还支持标量和结构体类型,这些非对象的类型会被自动的装箱和开箱。    
Key &amp;amp; Key Path键(Key)是一个字符串用来标识对象里面的一个指">
<meta property="og:type" content="article">
<meta property="og:title" content="关于传值用法">
<meta property="og:url" content="http://yoursite.com/2015/05/16/关于传值/index.html">
<meta property="og:site_name" content="波澜海底心">
<meta property="og:description" content="什么是KVC —-&amp;gt;WhatKVC指的就是NSKeyValueCoding非正式协议。 KVC是一种间接地访问对象的属性的机制。这种间接表现在通过字符串来标识属性,而不是通过调用存取方法或直接地访问实例变量的方式。KVC机制不仅支持对象,还支持标量和结构体类型,这些非对象的类型会被自动的装箱和开箱。    
Key &amp;amp; Key Path键(Key)是一个字符串用来标识对象里面的一个指">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于传值用法">
<meta name="twitter:description" content="什么是KVC —-&amp;gt;WhatKVC指的就是NSKeyValueCoding非正式协议。 KVC是一种间接地访问对象的属性的机制。这种间接表现在通过字符串来标识属性,而不是通过调用存取方法或直接地访问实例变量的方式。KVC机制不仅支持对象,还支持标量和结构体类型,这些非对象的类型会被自动的装箱和开箱。    
Key &amp;amp; Key Path键(Key)是一个字符串用来标识对象里面的一个指">
  
    <link rel="alternative" href="/atom.xml" title="波澜海底心" type="application/atom+xml">
  
  
    <link rel="icon" href="/judahxu.jpg">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="http://p2.gexing.com/qqpifu/20120825/1725/50389a046881e_600x.jpg" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Judahxu</a></h1>
		</hgroup>

		
		<p class="header-subtitle">任性有我，不一样的花火</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/judahxu" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/1650908760/profile?topnav=1&wvr=6" title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="http://www.zhihu.com/" title="zhihu">zhihu</a>
					        
								<a class="douban" target="_blank" href="http://www.douban.com/" title="douban">douban</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://lfxfengxia.github.io/">说为什么</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://susuyan.com/">苏炎说</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">掌握主动权，不将就，生活因我而精彩。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Judahxu</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="http://p2.gexing.com/qqpifu/20120825/1725/50389a046881e_600x.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Judahxu</h1>
			</hgroup>
			
			<p class="header-subtitle">任性有我，不一样的花火</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/judahxu" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/1650908760/profile?topnav=1&wvr=6" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="http://www.zhihu.com/" title="zhihu">zhihu</a>
			        
						<a class="douban" target="_blank" href="http://www.douban.com/" title="douban">douban</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-关于传值" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/16/关于传值/" class="article-date">
  	<time datetime="2015-05-16T12:41:05.000Z" itemprop="datePublished">2015-05-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      关于传值用法
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="什么是KVC_—-&gt;What">什么是KVC —-&gt;What</h4><p>KVC指的就是NSKeyValueCoding非正式协议。 KVC是一种间接地访问对象的属性的机制。<br>这种间接表现在通过字符串来标识属性,而不是通过调用存取方法或直接地访问实例变量的方式。<br>KVC机制不仅支持对象,还支持标量和结构体类型,这些非对象的类型会被自动的装箱和开箱。    </p>
<h4 id="Key_&amp;_Key_Path">Key &amp; Key Path</h4><p>键(Key)是一个字符串用来标识对象里面的一个指定的属性。一般一个键对应对象的存取方法或 实例变量。键必须是ASCII码,一般以小写字母开始,不能包含空格。<br>A key path is a string of dot separated keys that is used to specify a sequence of object properties to traverse. The property of the first key in the sequence is relative to the receiver, and each subsequent key is evaluated relative to the value of the previous property.<br>键路径(Key Path)是一个由点进行分割的一系列键组成的字符串 KVC的使用</p>
<h4 id="如何使用KVC">如何使用KVC</h4><p>KVC常用于MVC中Model与Controller之间的通信。 </p>
<pre><code>￼￼- (<span class="keyword">void</span>)setValue:(<span class="keyword">id</span>)value forKey:(<span class="built_in">NSString</span> *)key        
- (<span class="keyword">id</span>)valueForKey:(<span class="built_in">NSString</span> *)key      
- (<span class="keyword">void</span>)setNilValueForKey:(<span class="built_in">NSString</span> *)key       
￼￼- (<span class="keyword">void</span>)setValue:(<span class="keyword">id</span>)value forKeyPath:(<span class="built_in">NSString</span> *)keyPath
￼- (<span class="keyword">id</span>)valueForKeyPath:(<span class="built_in">NSString</span> *)keyPath     
￼- (<span class="keyword">id</span>)valueForUndefinedKey:(<span class="built_in">NSString</span> *)key      
￼￼￼￼
</code></pre><p>KVC与点语法是正交的,也就是一点关系都没有<br>The accessor patterns are written in the form -set<key>: or -<key>     </key></key></p>
<h4 id="什么是KVO">什么是KVO</h4><p>键值观察(Key-value observing)是一种机制。这种机制允许当一个对象的某些属性的值被修改 后会通知另外观察该变化的对象。       </p>
<h4 id="￼如何使用KVO">￼如何使用KVO</h4><pre><code>
￼￼￼￼- (<span class="typename">void</span>)<span class="string">addObserver:</span>(NSObject *)anObserver <span class="string">forKeyPath:</span>(NSString *)keyPath         
<span class="string">options:</span>(NSKeyValueObservingOptions)options <span class="string">context:</span>(<span class="typename">void</span> *)context         
- (<span class="typename">void</span>)<span class="string">removeObserver:</span>(NSObject *)anObserver <span class="string">forKeyPath:</span>(NSString *)keyPath       
- (<span class="typename">void</span>)<span class="string">observeValueForKeyPath:</span>(NSString *)keyPath <span class="string">ofObject:</span>(id)object       
<span class="string">change:</span>(NSDictionary *)change <span class="string">context:</span>(<span class="typename">void</span> *)context
</code></pre><h4 id="利用通知中心传值(NSNotificationCenter)">利用通知中心传值(NSNotificationCenter)</h4><p>1.接受传过来的值       </p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="list">[<span class="list">[<span class="keyword">NSNotificationCenter</span> defaultCenter] addObserver:self  selector:@selector<span class="list">(<span class="keyword">demo:</span>)</span> name:@<span class="string">"hello"</span> object:@<span class="string">"hello"</span>]<span class="comment">;            </span></span><br><span class="line">- <span class="list">(<span class="keyword">void</span>)</span>demo:<span class="list">(<span class="keyword">NSNotification</span> *)</span>noti      </span><br><span class="line">&#123;     </span><br><span class="line">    NSLog<span class="list">(<span class="keyword">@</span><span class="string">"%@"</span>,noti.userInfo<span class="list">[<span class="keyword">@</span><span class="string">"hello"</span>])<span class="comment">;      </span></span><br><span class="line">&#125;  </span><br><span class="line">    </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.发送通知并传值<span class="list">(<span class="keyword">利用字典可以传多个值</span>)</span></span></span></span></span></span><br></pre></td></tr></table></figure>
<p>NSString <em>str = @”one”;<br>NSDictionary </em>dic = @{@”hello”: str};<br>[[NSNotificationCenter defaultCenter]    postNotificationName:@”hello” object:@”hello” userInfo:dic];<br>￼￼￼￼￼￼￼</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">附：注册键盘升启关闭消息</span><br></pre></td></tr></table></figure>
<p>//键盘升起<br>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow:) name:UIKeyboardWillShowNotification object:nil];<br>//键盘降下<br>[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">####用 storyBoard 在界面之间传值</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>(void)prepareForSegue:(UIStoryboardSegue <em>)segue sender:(id)sender<br>{<br>  UITableViewCell </em>cell = (UITableViewCell <em>)sender;<br>  NSIndexPath </em>indexPath =  [self.tableView indexPathForCell:cell];<br>  id model = _students[indexPath.row];<br>  //组装模型<br>  NSString <em>name = [model valueForKey:kName];<br>  NSString </em>ID = [model valueForKey:kStuID];<br>  int age = [[model valueForKey:kAge] intValue];    </p>
<p>  QYStudentModel <em>student = [QYStudentModel studentWithName:name ID:ID andAge:age];<br>  UIViewController </em>dstVC = segue.destinationViewController;<br>  [dstVC setValue:student forKey:@”student”];<br>} </p>
</li>
</ul>
<p>```  </p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/05/15/关于C/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">有关C的问题</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>



<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="关于传值" data-title="关于传值用法" data-url="http://yoursite.com/2015/05/16/关于传值/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>



</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Judahxu
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/mobile.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>